(this.webpackJsonpvaliu=this.webpackJsonpvaliu||[]).push([[0],{1358:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(1),o=n.n(i),a=n(39),r=n.n(a),s=(n(46),n(47),n(6)),l=n(22),u=(n(48),function(t){var e=t.data,n=t.row,o=t.scrollPosition,a=t.setScrollPosition,r=e.length,l=40,u=(r-0+1)*l,d=Object(i.useState)({top:-40,bottom:u- -40,viewData:[]}),j=Object(s.a)(d,2),b=j[0],v=j[1],f=function(t){var e,n=0+Math.floor((t-80)/l),c=g(n,19),i=Math.max((n-0)*l,0),r=Math.max(u-b.top-c.length*l,0);a((null===(e=h.current)||void 0===e?void 0:e.scrollTop)||o),v({top:i,bottom:r,viewData:c})},h=Object(i.useRef)(null);Object(i.useEffect)((function(){var t;f(o),null===(t=h.current)||void 0===t||t.scrollTo(0,o)}),[]);var g=function(t,n){var c=Math.max(0,t),i=Math.min(t+n-1,r);return c>i?e.slice(i,c):e.slice(c,i)};return Object(c.jsxs)("div",{className:"viewport",ref:h,style:{height:600},onScroll:function(t){return f(t.currentTarget.scrollTop)},children:[Object(c.jsx)("div",{style:{height:b.top}}),b.viewData.map(n),Object(c.jsx)("div",{style:{height:b.bottom}})]})}),d=n(1360),j=n(14),b=n.n(j),v=n(40),f=function(){var t=Object(i.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],o=Object(i.useRef)();Object(i.useEffect)((function(){return o.current=Object(v.io)("https://mimo-valiu-server.herokuapp.com/",{transports:["websocket"]}),o.current.on("initialList",(function(t){c(t)})),o.current.on("receive new tag",(function(t){console.log("receive new tag",t.content),c((function(e){return[t].concat(e)}))})),o.current.on("receive edit tag",(function(t){c((function(e){return e.map((function(e){return e.id===t.id?t:e}))}))})),o.current.on("receive delete tag",(function(t){c((function(e){return e.filter((function(e){return e.id!==t}))}))})),function(){var t;null===(t=o.current)||void 0===t||t.disconnect()}}),[]);return{tags:n,addTag:function(t){var e;null===(e=o.current)||void 0===e||e.emit("emit new tag",t)},editTag:function(t){var e;null===(e=o.current)||void 0===e||e.emit("emit edit tag",t)},deleteTag:function(t){var e;null===(e=o.current)||void 0===e||e.emit("emit delete tag",t)}}};b.a.locale="pt_BR";var h=function(){return Math.floor(255*Math.random())},g=function(){var t=f(),e=t.tags,n=t.addTag,o=t.editTag,a=t.deleteTag,r=function(){if(void 0!==p){var t=e.find((function(t){return t.id===(null===p||void 0===p?void 0:p.id)}));t&&o(Object(l.a)(Object(l.a)({},t),{},{content:v})),S(T)}else{var c={color:"rgba(".concat(h(),",").concat(h(),", ").concat(h()," )"),content:v,id:Object(d.a)()};n(c),S(0)}g(""),x(void 0)},j=Object(i.useState)(""),b=Object(s.a)(j,2),v=b[0],g=b[1],m=Object(i.useState)(void 0),O=Object(s.a)(m,2),p=O[0],x=O[1],w=Object(i.useState)(0),N=Object(s.a)(w,2),T=N[0],S=N[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h2",{children:["Coding Challenge! (rendering: ",e.length,")"]}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"tag-list",children:"Etiquetas"}),Object(c.jsx)("input",{type:"text",className:"input",value:v,autoFocus:!0,onChange:function(t){g(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&r()},placeholder:"A\xf1adir etiqueta"}),Object(c.jsx)(u,{scrollPosition:T,setScrollPosition:S,data:e,row:function(t,n){return Object(c.jsxs)("div",{className:"item-container",children:[Object(c.jsx)("span",{className:"item-color",style:{backgroundColor:"".concat(t.color)},children:"\xa0"}),Object(c.jsx)("span",{className:"item-content",children:t.content}),Object(c.jsxs)("div",{className:"item-actions",children:[Object(c.jsx)("button",{className:"action-button",onClick:function(){return function(t){var n=e.find((function(e){return e.id===t}));g((null===n||void 0===n?void 0:n.content)||""),x(n)}(t.id)},children:"Editar"}),Object(c.jsx)("button",{className:"action-button",onClick:function(){return e=t.id,void a(e);var e},children:"Borrar"})]})]},"".concat(t.color,"_").concat(n))}},e.length)]})]})};var m=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("a",{href:"/valiu",className:"brand",children:Object(c.jsx)("img",{src:"https://uploads-ssl.webflow.com/5ea3bbe508815409b2adc81a/5ea3bc7a27484bf404a45aa5_logo_valiu.svg",alt:"Valiu Logo"})})}),Object(c.jsx)("section",{className:"main-section",children:Object(c.jsx)(g,{})})]})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1361)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),o(t),a(t)}))};r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),O()},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){}},[[1358,1,2]]]);
//# sourceMappingURL=main.a1168aa7.chunk.js.map