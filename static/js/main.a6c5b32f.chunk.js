(this.webpackJsonpvaliu=this.webpackJsonpvaliu||[]).push([[0],{1358:function(t,e,n){},1359:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(1),i=n.n(a),o=n(39),r=n.n(o),s=(n(46),n(47),n(2)),l=n(22),u=(n(48),function(t){var e=t.data,n=t.row,i=t.scrollPosition,o=t.setScrollPosition,r=e.length,l=40,u=(r-0+1)*l,d=Object(a.useState)({top:-40,bottom:u- -40,viewData:[]}),j=Object(s.a)(d,2),b=j[0],v=j[1],f=function(t){var e,n=0+Math.floor((t-80)/l),c=m(n,19),a=Math.max((n-0)*l,0),r=Math.max(u-b.top-c.length*l,0);o((null===(e=h.current)||void 0===e?void 0:e.scrollTop)||i),v({top:a,bottom:r,viewData:c})},h=Object(a.useRef)(null);Object(a.useEffect)((function(){var t;f(i),null===(t=h.current)||void 0===t||t.scrollTo(0,i)}),[]);var m=function(t,n){var c=Math.max(0,t),a=Math.min(t+n-1,r);return c>a?e.slice(a,c):e.slice(c,a)};return Object(c.jsxs)("div",{className:"viewport",ref:h,style:{height:600},onScroll:function(t){return f(t.currentTarget.scrollTop)},children:[Object(c.jsx)("div",{style:{height:b.top}}),b.viewData.map(n),Object(c.jsx)("div",{style:{height:b.bottom}})]})}),d=n(1361),j=n(40),b=n(7),v=n.n(b),f=function(){var t=Object(a.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],i=Object(a.useState)(!0),o=Object(s.a)(i,2),r=o[0],l=o[1],u=Object(a.useState)(v.a.random.alphaNumeric()),d=Object(s.a)(u,2),b=d[0],f=d[1],h=Object(a.useRef)();Object(a.useEffect)((function(){return h.current=Object(j.io)("https://mimo-valiu-server.herokuapp.com/",{transports:["websocket"]}),h.current.on("initialList",(function(t){c(t),l(!1)})),h.current.on("receive new tag",(function(t){c((function(e){return[t].concat(e)})),f(v.a.random.alphaNumeric())})),h.current.on("receive edit tag",(function(t){c((function(e){return e.map((function(e){return e.id===t.id?t:e}))})),f(v.a.random.alphaNumeric())})),h.current.on("receive delete tag",(function(t){c((function(e){return e.filter((function(e){return e.id!==t}))})),f(v.a.random.alphaNumeric())})),function(){var t;null===(t=h.current)||void 0===t||t.disconnect()}}),[]);return{tags:n,addTag:function(t){var e;null===(e=h.current)||void 0===e||e.emit("emit new tag",t)},editTag:function(t){var e;null===(e=h.current)||void 0===e||e.emit("emit edit tag",t)},deleteTag:function(t){var e;null===(e=h.current)||void 0===e||e.emit("emit delete tag",t)},loading:r,key:b}},h=(n(1358),function(){return Object(c.jsxs)("div",{className:"lds-ellipsis",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}),m=function(){return Math.floor(255*Math.random())},O=function(){var t=f(),e=t.tags,n=t.addTag,i=t.editTag,o=t.deleteTag,r=t.loading,j=t.key,b=function(){if(void 0!==w){var t=e.find((function(t){return t.id===(null===w||void 0===w?void 0:w.id)}));t&&i(Object(l.a)(Object(l.a)({},t),{},{content:g})),C(y)}else{var c={color:"rgba(".concat(m(),",").concat(m(),", ").concat(m()," )"),content:g,id:Object(d.a)()};n(c),C(0)}x(""),T(void 0)},v=Object(a.useState)(""),O=Object(s.a)(v,2),g=O[0],x=O[1],p=Object(a.useState)(void 0),N=Object(s.a)(p,2),w=N[0],T=N[1],S=Object(a.useState)(0),k=Object(s.a)(S,2),y=k[0],C=k[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h2",{children:["Coding Challenge! (rendering: ",e.length,")"]}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"tag-list",children:["Etiquetas ",r&&Object(c.jsx)(h,{})]}),!1===r&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{type:"text",className:"input",value:g,autoFocus:!0,onChange:function(t){x(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&b()},placeholder:"A\xf1adir etiqueta"}),Object(c.jsx)(u,{scrollPosition:y,setScrollPosition:C,data:e,row:function(t,n){return Object(c.jsxs)("div",{className:"item-container",children:[Object(c.jsx)("span",{className:"item-color",style:{backgroundColor:"".concat(t.color)},children:"\xa0"}),Object(c.jsx)("span",{className:"item-content",children:t.content}),Object(c.jsxs)("div",{className:"item-actions",children:[Object(c.jsx)("button",{className:"action-button",onClick:function(){return function(t){var n=e.find((function(e){return e.id===t}));x((null===n||void 0===n?void 0:n.content)||""),T(n)}(t.id)},children:"Editar"}),Object(c.jsx)("button",{className:"action-button",onClick:function(){return e=t.id,void o(e);var e},children:"Borrar"})]})]},"".concat(t.color,"_").concat(n))}},j)]})]})]})};var g=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("a",{href:"/valiu",className:"brand",children:Object(c.jsx)("img",{src:"https://uploads-ssl.webflow.com/5ea3bbe508815409b2adc81a/5ea3bc7a27484bf404a45aa5_logo_valiu.svg",alt:"Valiu Logo"})})}),Object(c.jsx)("section",{className:"main-section",children:Object(c.jsx)(O,{})})]})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1362)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),i(t),o(t)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),x()},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){}},[[1359,1,2]]]);
//# sourceMappingURL=main.a6c5b32f.chunk.js.map